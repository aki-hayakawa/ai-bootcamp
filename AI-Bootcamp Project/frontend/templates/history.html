{% extends "base.html" %}
{% block title %}Prompt History{% endblock %}
{% block content %}

  <h2>LLM Prompt History</h2>

  {% if logs %}
    <div class="table-responsive">
      <table class="table table-bordered table-sm align-middle">
        <thead class="table-light">
          <tr>
            <th>Timestamp</th>
            <th>Prompt</th>
            <th>Response</th>
            <th>Source</th>
          </tr>
        </thead>
        <tbody>
          {% for log in logs %}
          <tr>
            <td>{{ log.created_at }}</td>
            <td>{{ log.prompt }}</td>
            <td><pre class="mb-0">{{ log.response[:150] }}{% if log.response|length > 150 %}...{% endif %}</pre></td>
            <td>{{ log.source }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p>No history found.</p>
  {% endif %}

{% endblock %}
